ASSUME CS:CODE,SS:STACK,DS:DATA
;PROGRAM OF SHOW_STR
DATA SEGMENT
	DB 'Welcome to masm!',0
DATA ENDS

STACK SEGMENT
	DD 0,0,0,0
STACK ENDS

CODE SEGMENT
START:
	MOV DH,08H
	MOV DL,03H
	MOV CL,0AH
	;SET SHOWED STRING ON DH=LINE:08 ,DL=COLUMN:03 ,CL=HIGH LIGHT GREEN

	MOV AX,DATA
	MOV DS,AX
	;SET DS TO DATA

	MOV AX,STACK
	MOV SS,AX
	MOV SP,0008H
	;SET STACK POINTER

	MOV SI,0000H
	CALL SHOW_STR
	;SHOW THE 'Welcome to masm!'

	MOV AH,4CH
	INT 21H
	;EXIT PROGRAM

	SHOW_STR:
		;GRAPH-RAM of CHARACTER = B 8000H ~ B FFFFH(32KB)
		;EVERY PAGE HAVE 25 LINES * 80 CHARACTERS
		;A CHARACTER NEED 2 BITS
		;EACH BUFFER PAGE HAVE 4KB,8 PAGES IN GRAPH-RAM
		;25 * 80 = 4000 ,THE PAGE 0 = B 8000H ~ B 8F9FH
		;SO A LINE HAVE 160 BITS
		;LINE 1 of rel = 0000H~009FH
		;LINE 2 of rel = 00A0H~013FH(PLEASE USE YOUR CALCULATOR)
		;OK,LET'S GO!

		MOV AX,0B800H
		MOV ES,AX
		;TO B 8000H

		MOV AX,00A0H
		MUL DH
		MOV DI,AX
		;SO ,WE NEED THE rel of LINE 8 IS: DH * 0160D(or 00A0H)

		MOV AX,0002H
		MUL DL
		MOV BP,AX
		;SO ,WE NEED THE rel of LINE 8 IS: DH * 0160D(or 00A0H)

		PRINT:
			PUSH CX
			;SAVE PROPERTY OF CHARACTER

			MOV CL,[SI]
			MOV CH,00H
			JCXZ MANBA_OUT
			;IF(CHARACTER == 00)
			;	CALL MANBA_OUT

			MOV BYTE PTR ES:[DI+BP],CL
			INC BP
			;ASCII OF THE CHARACTER

			POP CX;PROPERTY OF CHARACTER
			MOV BYTE PTR ES:[DI+BP],CL
			INC BP
			;WRITE PROPERTY

			INC SI
			;NEXT CHARACTER

			JMP SHORT PRINT
		MANBA_OUT:
			POP CX
			RET
CODE ENDS
END START
